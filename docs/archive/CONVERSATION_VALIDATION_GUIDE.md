# ä¼šè¯å‹ç¼©éªŒè¯ - ä½¿ç”¨æŒ‡å—

## å¿«é€Ÿå¼€å§‹

### 1. ä½¿ç”¨ Gemma 3 4B (æ¨è)

```bash
cd /Media/Ubuntu/Documents/Surface-Memory/Documents/ai-os-memory

# ç¡®ä¿ Gemma 3 4B å·²ä¸‹è½½
ollama list | grep gemma3

# å¦‚æœæ²¡æœ‰ï¼Œä¸‹è½½å®ƒ
ollama pull gemma3:4b

# è¿è¡ŒéªŒè¯
python conversation_compression_validator.py \
  --model gemma3 \
  --data-dir /Data/CascadeProjects/TalkingWithU \
  --output-dir validation_results
```

**é¢„æœŸç»“æœ**:
- å‹ç¼©æ¯”: 10-15x
- å‹ç¼©å»¶è¿Ÿ: 4-6s
- è´¨é‡: 0.85-0.87
- ååé‡: 15-20/min

---

### 2. å¦‚æœè´¨é‡ä¸å¤Ÿï¼Œç”¨ Qwen2.5-7B

```bash
python conversation_compression_validator.py \
  --model qwen2.5 \
  --data-dir /Data/CascadeProjects/TalkingWithU \
  --output-dir validation_results
```

**é¢„æœŸç»“æœ**:
- å‹ç¼©æ¯”: 15-20x
- å‹ç¼©å»¶è¿Ÿ: 8-16s
- è´¨é‡: 0.89-0.91
- ååé‡: 8-12/min

---

### 3. å¦‚æœéœ€è¦æ›´å¿«ï¼Œç”¨ TinyLlama 1B

```bash
# ä¸‹è½½ TinyLlama
ollama pull tinyllama

python conversation_compression_validator.py \
  --model tinyllama \
  --data-dir /Data/CascadeProjects/TalkingWithU \
  --output-dir validation_results
```

**é¢„æœŸç»“æœ**:
- å‹ç¼©æ¯”: 8-12x
- å‹ç¼©å»¶è¿Ÿ: 2-3s
- è´¨é‡: 0.80-0.83
- ååé‡: 30-40/min

---

## éªŒè¯æŒ‡æ ‡

### å¿…é¡»è¾¾æˆ (Must Have)

| æŒ‡æ ‡ | ç›®æ ‡ | è¯´æ˜ |
|------|------|------|
| å‹ç¼©æ¯” | > 10x | å­˜å‚¨èŠ‚çœ |
| è´¨é‡ | > 0.85 | è¯­ä¹‰ä¿ç•™ |
| å…³é”®è¯ä¿ç•™ | > 90% | ä¿¡æ¯å®Œæ•´æ€§ |

### åº”è¯¥è¾¾æˆ (Should Have)

| æŒ‡æ ‡ | ç›®æ ‡ | è¯´æ˜ |
|------|------|------|
| å‹ç¼©å»¶è¿Ÿ | < 10s | ç”¨æˆ·ä½“éªŒ |
| é‡æ„å»¶è¿Ÿ | < 500ms | å¿«é€Ÿè®¿é—® |
| ååé‡ | > 10/min | æ‰¹é‡å¤„ç† |

---

## è¾“å‡ºæ–‡ä»¶

### 1. JSON æŠ¥å‘Š

**ä½ç½®**: `validation_results/validation_report_<model>_<timestamp>.json`

**å†…å®¹**:
```json
{
  "summary": {
    "model": "gemma3",
    "total_files": 10,
    "success_count": 10,
    "avg_compression_ratio": 12.5,
    "avg_compress_time": 5.2,
    "avg_quality_score": 0.86,
    ...
  },
  "results": [...],
  "errors": [...]
}
```

### 2. Markdown æŠ¥å‘Š

**ä½ç½®**: `validation_results/validation_report_<model>_<timestamp>.md`

**å†…å®¹**:
- æ‰§è¡Œæ‘˜è¦
- æ€§èƒ½æŒ‡æ ‡è¡¨æ ¼
- è´¨é‡æŒ‡æ ‡è¡¨æ ¼
- è¯¦ç»†ç»“æœåˆ—è¡¨

### 3. è¯¦ç»†ç»“æœ

**ä½ç½®**: `validation_results/<filename>_detail.json`

**å†…å®¹**:
- åŸå§‹æ–‡æœ¬ï¼ˆå‰ 500 å­—ç¬¦ï¼‰
- å‹ç¼©æ‘˜è¦
- é‡æ„æ–‡æœ¬ï¼ˆå‰ 500 å­—ç¬¦ï¼‰
- å®Œæ•´æŒ‡æ ‡

---

## éªŒè¯æµç¨‹

### å¯¹æ¯ä¸ªä¼šè¯æ–‡ä»¶

1. **è§£æä¼šè¯** - æå– Assistant å’Œ Human çš„å¯¹è¯
2. **æ ¼å¼åŒ–** - è½¬æ¢ä¸ºæ ‡å‡†æ ¼å¼
3. **å‹ç¼©** - ä½¿ç”¨æŒ‡å®šæ¨¡å‹å‹ç¼©
4. **é‡æ„** - ä»å‹ç¼©æ•°æ®é‡æ„
5. **è¯„ä¼°** - è®¡ç®—è´¨é‡æŒ‡æ ‡
6. **æ£€æŸ¥** - éªŒè¯å…³é”®è¯ä¿ç•™

### ç”ŸæˆæŠ¥å‘Š

1. **ç»Ÿè®¡æ±‡æ€»** - æˆåŠŸ/å¤±è´¥æ•°é‡
2. **æ€§èƒ½æŒ‡æ ‡** - å¹³å‡å‹ç¼©æ¯”ã€å»¶è¿Ÿã€ååé‡
3. **è´¨é‡æŒ‡æ ‡** - å¹³å‡è´¨é‡ã€ç›¸ä¼¼åº¦ã€å…³é”®è¯ä¿ç•™
4. **ç›®æ ‡å¯¹æ¯”** - ä¸éªŒæ”¶æ ‡å‡†å¯¹æ¯”
5. **è¯¦ç»†ç»“æœ** - æ¯ä¸ªæ–‡ä»¶çš„è¯¦ç»†æ•°æ®

---

## é¢„æœŸæ—¶é—´

### Gemma 3 4B (æ¨è)

- å•æ–‡ä»¶: 5-8s
- 10 æ–‡ä»¶: 1-2 åˆ†é’Ÿ
- æ€»è€—æ—¶: 2-3 åˆ†é’Ÿï¼ˆå«æŠ¥å‘Šç”Ÿæˆï¼‰

### Qwen2.5-7B

- å•æ–‡ä»¶: 10-18s
- 10 æ–‡ä»¶: 2-3 åˆ†é’Ÿ
- æ€»è€—æ—¶: 3-4 åˆ†é’Ÿï¼ˆå«æŠ¥å‘Šç”Ÿæˆï¼‰

### TinyLlama 1B

- å•æ–‡ä»¶: 3-5s
- 10 æ–‡ä»¶: 0.5-1 åˆ†é’Ÿ
- æ€»è€—æ—¶: 1-2 åˆ†é’Ÿï¼ˆå«æŠ¥å‘Šç”Ÿæˆï¼‰

---

## å†³ç­–æ ‡å‡†

### å¦‚æœ Gemma 3 4B ç»“æœ

**è´¨é‡ > 0.85 ä¸” å‹ç¼©æ¯” > 10x**:
- âœ… æ¥å— Gemma 3 4B
- ç†ç”±: å¹³è¡¡æ€§èƒ½å’Œè´¨é‡

**è´¨é‡ < 0.85**:
- ğŸ”„ åˆ‡æ¢åˆ° Qwen2.5-7B
- ç†ç”±: éœ€è¦æ›´é«˜è´¨é‡

**å‹ç¼©å»¶è¿Ÿ > 10s**:
- ğŸ”„ åˆ‡æ¢åˆ° TinyLlama 1B
- ç†ç”±: éœ€è¦æ›´å¿«é€Ÿåº¦

---

## ä¸‹ä¸€æ­¥

### éªŒè¯æˆåŠŸå

1. **åˆ†æç»“æœ** - æŸ¥çœ‹æŠ¥å‘Šï¼Œç¡®è®¤æŒ‡æ ‡
2. **é€‰æ‹©æ¨¡å‹** - æ ¹æ®ç»“æœé€‰æ‹©æœ€ä½³æ¨¡å‹
3. **æ›´æ–°é…ç½®** - æ›´æ–°ç³»ç»Ÿé»˜è®¤æ¨¡å‹
4. **ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š** - Phase 1.1 æœ€ç»ˆéªŒæ”¶æŠ¥å‘Š

### éªŒè¯å¤±è´¥å

1. **åˆ†æé—®é¢˜** - æŸ¥çœ‹é”™è¯¯æ—¥å¿—
2. **è°ƒæ•´å‚æ•°** - ä¼˜åŒ–é…ç½®
3. **é‡æ–°éªŒè¯** - å†æ¬¡è¿è¡Œæµ‹è¯•

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æ‰¾ä¸åˆ°æ¨¡å‹

```bash
# æ£€æŸ¥å·²å®‰è£…æ¨¡å‹
ollama list

# ä¸‹è½½ç¼ºå¤±æ¨¡å‹
ollama pull gemma3:4b
ollama pull qwen2.5:7b-instruct
ollama pull tinyllama
```

### é—®é¢˜ 2: å†…å­˜ä¸è¶³

```bash
# ä½¿ç”¨æ›´å°çš„æ¨¡å‹
python conversation_compression_validator.py --model tinyllama

# æˆ–è€…å‡å°‘å¹¶å‘
# ä¿®æ”¹ä»£ç ä¸­çš„ batch_size
```

### é—®é¢˜ 3: è§£æå¤±è´¥

- æ£€æŸ¥ä¼šè¯æ–‡ä»¶æ ¼å¼
- æŸ¥çœ‹ errors åˆ—è¡¨
- æ‰‹åŠ¨æ£€æŸ¥å¤±è´¥çš„æ–‡ä»¶

---

## ç¤ºä¾‹è¾“å‡º

```
============================================================
ä¼šè¯å‹ç¼©éªŒè¯å™¨
============================================================
æ•°æ®ç›®å½•: /Data/CascadeProjects/TalkingWithU
æ¨¡å‹: gemma3
è¾“å‡ºç›®å½•: validation_results

æ‰¾åˆ° 10 ä¸ªä¼šè¯æ–‡ä»¶

å¼€å§‹éªŒè¯ 10 ä¸ªæ–‡ä»¶...
æ¨¡å‹: gemma3

[1/10]
============================================================
å¤„ç†: 2024-08-30 10-18-05.txt.md
============================================================
  æ¶ˆæ¯æ•°: 15
  åŸå§‹é•¿åº¦: 25,079 å­—ç¬¦
  å‹ç¼©ä¸­...
  âœ… å‹ç¼©å®Œæˆ
     å‹ç¼©å: 2,100 å­—ç¬¦
     å‹ç¼©æ¯”: 11.94x
     è€—æ—¶: 5.2s
  é‡æ„ä¸­...
  âœ… é‡æ„å®Œæˆ
     è€—æ—¶: 0.3s
  è¯„ä¼°è´¨é‡...
  âœ… è´¨é‡è¯„ä¼°å®Œæˆ
     æ€»åˆ†: 0.867
     è¯­ä¹‰ç›¸ä¼¼åº¦: 0.882
     å…³é”®è¯ä¿ç•™: 95.0% (19/20)

...

============================================================
éªŒè¯æŠ¥å‘Šæ±‡æ€»
============================================================

ğŸ“Š æ€»ä½“ç»Ÿè®¡:
  æ€»æ–‡ä»¶æ•°: 10
  æˆåŠŸ: 10 (100.0%)
  å¤±è´¥: 0 (0.0%)

ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡:
  å¹³å‡å‹ç¼©æ¯”: 12.35x
  å¹³å‡å‹ç¼©è€—æ—¶: 5.4s
  å¹³å‡é‡æ„è€—æ—¶: 0.28s
  ååé‡: 18.5 æ–‡ä»¶/åˆ†é’Ÿ

ğŸ¯ è´¨é‡æŒ‡æ ‡:
  å¹³å‡è´¨é‡åˆ†æ•°: 0.863
  å¹³å‡è¯­ä¹‰ç›¸ä¼¼åº¦: 0.878
  å¹³å‡å…³é”®è¯ä¿ç•™: 93.5%

âœ… ç›®æ ‡è¾¾æˆæƒ…å†µ:
  å‹ç¼©æ¯” > 10x: âœ… (12.35x)
  å‹ç¼©å»¶è¿Ÿ < 10s: âœ… (5.4s)
  é‡æ„å»¶è¿Ÿ < 500ms: âœ… (280ms)
  è´¨é‡ > 0.85: âœ… (0.863)
  ååé‡ > 10/min: âœ… (18.5/min)

ğŸ“„ è¯¦ç»†æŠ¥å‘Šå·²ä¿å­˜åˆ°: validation_results/validation_report_gemma3_20260215_131900.json
ğŸ“„ Markdown æŠ¥å‘Šå·²ä¿å­˜åˆ°: validation_results/validation_report_gemma3_20260215_131900.md

âœ… éªŒè¯å®Œæˆï¼
```

---

**å‡†å¤‡å¥½äº†ï¼è¿è¡Œå‘½ä»¤å¼€å§‹éªŒè¯ï¼š**

```bash
cd /Media/Ubuntu/Documents/Surface-Memory/Documents/ai-os-memory
python conversation_compression_validator.py --model gemma3
```
